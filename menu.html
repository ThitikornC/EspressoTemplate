<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/menu.css">
    <script src="/js/prevent-image-download.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap');

        body {
          font-family: 'Roboto', Helvetica, Arial, sans-serif;
        }

        :root {
          --accent-purple: #563506; /* main purple to pair with brown (keep hue) */
          --accent-purple-weak: rgba(111,74,155,0.035); /* reduced intensity */
          --accent-purple-glow: rgba(111,74,155,0.06); /* gentler glow */
        }

        .neon-btn, .running-text, .marquee span {
          font-family: 'Roboto', Helvetica, Arial, sans-serif;
          font-weight: 300; /* Light */
        }

        /* üåà ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏ô‡πâ‡∏≤ */
        .root-bg {
          position: relative;
          overflow-x: visible;
          min-height: 100vh;
        }

        .root-bg::before,
        .root-bg::after,
        .root-bg::backdrop {
          content: '';
          position: fixed;
          top: 0; 
          left: 0; 
          right: 0; 
          bottom: 0;
          z-index: 0;
          animation: floatBg 30s linear infinite;
        }

        .root-bg::before {
          /* Brown on top -> Purple at bottom (reversed as requested) */
          background: linear-gradient(180deg, #8b6a3a 0%, #5a3f22 45%, #6f4a9b 100%);
        }

        .root-bg::after {
          /* Soft overlay with purple emphasis at the bottom and brown on top (toned down) */
          background: linear-gradient(180deg, rgba(139,106,58,0.04) 0%, rgba(58,38,18,0.06) 50%, transparent 70%),
                      radial-gradient(ellipse at 50% 92%, rgba(111,74,155,0.035) 0%, rgba(111,74,155,0.01) 40%, transparent 70%);
          mix-blend-mode: multiply;
          opacity: 1;
          pointer-events: none;
          z-index: 1;
        }

        /* Centered watermark image */
        .center-watermark {
          position: fixed;
          top: 62%;
          left: 75%;
          transform: translate(-50%, -50%);
          /* Reduced size to make watermark subtler */
          width: 40vw;
          max-width: 600px;
          min-width: 140px;
          opacity: 0.13;
          z-index: 2;
          pointer-events: none;
          user-select: none;
        }

        /* Left watermark image */
        .left-watermark {
          position: fixed;
          top: 62%;
          left: 25%;
          transform: translate(-50%, -50%);
          /* Reduced size to match center watermark */
          width: 40vw;
          max-width: 600px;
          min-width: 140px;
          opacity: 0.06;
          z-index: 2;
          pointer-events: none;
          user-select: none;
          filter: grayscale(30%) brightness(1.1);
        }

        /* Watermark background image */
        .root-bg::backdrop {
          content: '';
          background: url('picture/ESPRESSO_logo.png') no-repeat center center;
          /* reduce backdrop logo size so it doesn't dominate */
          background-size: 40vw auto;
          opacity: 0.08;
          pointer-events: none;
          z-index: 2;
        }

        /* Animation */
        /* Logo ‡∏•‡∏≤‡∏¢‡∏ô‡πâ‡∏≥ */
        .background-image {
          position: fixed;
          top: 70%;
          left: 75%;
          transform: translate(-50%, -50%);
          /* reduce large decorative image size */
          width: 60%;
          max-width: 900px;
          height: auto;
          opacity: 0.3;
          z-index: 1;
          pointer-events: none;
        }

        .background-image img {
          width: 100%;
          height: auto;
          object-fit: contain;
          display: block;
        }

        /* Neon Button */
        .neon-btn {
          background: linear-gradient(180deg, #f8f6f0 0%, #fffef8 45%, #fff8e8 55%, #f5f0e5 100%);
          color: #000000;
          border: 6px solid #74640a;
          border-radius: 9999px;
          box-shadow: 1px 1px 0 #000, -8px 6px #3b3305, 0 0 14px rgba(255,230,160,0.55), 0 0 18px var(--accent-purple-glow);
          font-weight: 700;
          font-size: clamp(1rem, 2vw, 1.5rem);
          text-shadow: 0 1px 0 rgba(255, 255, 255, 0.3), 0 -1px 0 rgba(0, 0, 0, 0.1);
          position: relative;
          padding: clamp(14px, 2.5vw, 20px) clamp(35px, 5vw, 50px);
          transform: translateZ(0);
          transition: all 0.3s ease;
          z-index: 10;
          min-height: 55px;
        }

        /* Running Text */
        .running-text {
          background: linear-gradient(180deg, #f8f6f0 0%, #fff8e8 50%, #f5f0e5 100%);
          color: #000;
          border: clamp(4px, 0.5vw, 6px) solid #74640a;
          border-radius: 9999px;
          font-weight: 700;
          text-transform: uppercase;
          /* increase horizontal padding so the marquee doesn't visually touch borders */
          padding: clamp(10px, 1.5vw, 15px) clamp(18px, 3vw, 28px);
          box-shadow: 1px 1px 0 #000, clamp(-6px, -0.8vw, -8px) clamp(4px, 0.6vw, 6px) #3b3305, 0 0 20px rgba(255,230,160,0.55);
          text-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 -1px 0 rgba(0,0,0,0.15), 0 0 6px rgba(255,230,160,0.55);
          overflow: hidden;
          position: relative;
          z-index: 50;
        }

        /* Marquee */
        .marquee { 
          display: flex; 
          /* reduce the oversized repeat width so the marquee respects container edges */
          min-width: 220%; 
          animation: marquee 30s linear infinite; 
          /* Add safe horizontal padding so the moving items don't get clipped
             by the rounded container edges or border shadows. Keep box-sizing
             so padding is included within layout calculations. */
          padding-inline: clamp(8px, 1.5vw, 16px);
          box-sizing: border-box;
        }

        .marquee-content { 
          display: flex; 
          align-items: center; 
          margin-right: 2rem; 
        }

        .marquee img { 
          max-height: 40px; 
          display: inline-block; 
          vertical-align: middle; 
          margin-right: 1rem; 
        }

        .marquee span {
          display: inline-flex;
          align-items: center;
          white-space: nowrap;
          padding: clamp(0.375rem, 1vw, 0.5rem) clamp(1.25rem, 2.5vw, 2rem);
          background: linear-gradient(180deg, #f8f6f0 0%, #fff8e8 50%, #f5f0e5 100%);
          font-weight: 700;
          text-transform: uppercase;
          border: clamp(1.5px, 0.25vw, 2px) solid #000;
          border-radius: clamp(4px, 0.6vw, 6px);
          box-shadow: 2px 2px 0 #000, -1px -1px 0 #000, 0 0 6px rgba(255,230,160,0.55);
          margin-right: clamp(0.75rem, 1.5vw, 1rem);
          font-size: clamp(0.75rem, 1.25vw, 0.875rem);
        }

        /* Client info neon block (placed between running text and video) */
        .ClientName_Container {
          display: flex;
          flex-direction: column;
          gap: 0.25rem;
          align-items: flex-start;
          justify-content: flex-start;
          font-family: 'Roboto', Helvetica, Arial, sans-serif;
          /* give a bit more horizontal breathing room inside the panels */
          padding: 12px clamp(12px, 3vw, 20px);
          /* give each panel an equal margin on all sides for consistent spacing */
          margin: clamp(0.9rem, 1.8vw, 1.25rem);
          /* ‡πÉ‡∏ä‡πâ‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö .neon-btn (gradient) */
          background: linear-gradient(180deg, #f8f6f0 0%, #fffef8 45%, #fff8e8 55%, #f5f0e5 100%);
          border: 8px solid #74640a;
          border-radius: 20px;
          box-shadow: 1px 1px 0 #000, -10px 8px #3b3305, 0 0 28px rgba(255,230,160,0.62);
          color: #000000;
          /* ‡πÉ‡∏´‡πâ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ö‡∏•‡πá‡∏≠‡∏Å‡πÉ‡∏ä‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà */
          flex: 0 0 52%; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å 46.8% ‡πÄ‡∏õ‡πá‡∏ô 52% ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡∏¢‡∏≤‡∏¢‡∏Å‡∏£‡∏≠‡∏ö */
          max-width: 520px; /* ‡πÉ‡∏´‡πâ‡∏Å‡∏£‡∏≠‡∏ö‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô */
          max-height: 260px; /* ‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡πÅ‡∏ô‡πà‡∏ô */
          /* ‡∏Ç‡∏ô‡∏≤‡∏î‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏ö‡∏ô‡πÄ‡∏î‡∏™‡∏Å‡πå‡∏ó‡πá‡∏≠‡∏õ */
          min-height: 160px;
          aspect-ratio: auto; /* ‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡∏ï‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ */
          box-sizing: border-box;
          /* smoother transform when nudging */
          transition: transform 0.25s ease;
          will-change: transform;
          z-index: 18;
        }

        .ClientName_Container .ClientName {
          font-family: 'Roboto', Helvetica, Arial, sans-serif;
          font-weight: 700;
          font-size: clamp(1rem, 1.6vw, 1.25rem);
          letter-spacing: 0.2px;
          color: #000;
          /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏á‡∏≤‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏î‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô */
          text-shadow: 0 2px 6px rgba(0,0,0,0.32), 0 1px 0 rgba(255,255,255,0.35);
        }

        .ClientName_Container .Date_install,
        .ClientName_Container .ClientNo {
          font-family: 'Roboto', Helvetica, Arial, sans-serif;
          font-weight: 500;
          font-size: clamp(0.8rem, 1.1vw, 0.95rem);
          color: rgba(0,0,0,0.9);
          text-shadow: 0 1px 3px rgba(0,0,0,0.22);
        }

        /* Version label: light gray and thin */
        .ClientName_Container .Version {
          font-family: 'Roboto', Helvetica, Arial, sans-serif;
          font-weight: 300;
          font-size: clamp(0.7rem, 0.95vw, 0.85rem);
          color: #8a8f93; /* soft gray */
          opacity: 0.95;
          margin-top: 6px;
          letter-spacing: 0.2px;
        }

        /* Global version badge: fixed bottom-right on the viewport */
        .Version {
          position: fixed;
          right: 12px;
          bottom: 10px;
          font-family: 'Roboto', Helvetica, Arial, sans-serif;
          font-weight: 700;
          font-size: clamp(0.9rem, 0.9vw, 0.7rem);
          color: #ffffff;
          background: transparent;
          opacity: 0.95;
          padding: 6px 8px;
          border-radius: 6px;
          z-index: 2147483647;
          pointer-events: none; /* don't block clicks */
          box-shadow: 0 1px 0 rgba(0,0,0,0.08);
        }

        .ClientName_Container.neon {
          /* subtle neon glow like video wrapper */
          box-shadow: 1px 1px 0 #000, -8px 6px #3b3305, 0 0 20px rgba(255,230,160,0.6), 0 10px 30px rgba(0,0,0,0.18), 0 0 12px var(--accent-purple-glow);
        }

        /* Row wrapper to place two client panels side-by-side
           (neutralized to avoid framed/boxed look) */
        .client-row {
          display: flex;
          gap: clamp(1rem, 2.5vw, 2rem); /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏™‡∏≠‡∏á‡∏Å‡∏•‡πà‡∏≠‡∏á (responsive) */
          justify-content: center; /* center the pair across the page */
          align-items: stretch;
            width: 100%;
            box-sizing: border-box;
            /* Lift this row upward to sit closer under the top-bar (nudged a bit further) */
            margin: clamp(-7rem, -14vw, -5rem) 0 clamp(0.5rem, 1vw, 1rem);

            /* Force a single row on all screen sizes so the two panels stay side-by-side */
            flex-wrap: nowrap;
            overflow: visible;
        }

        /* Removed explicit sibling margin fallback; panels now use equal margins */

        /* Nudge left and right panels slightly outward for visual spacing */
        /* removed outward nudging to avoid framed appearance */

        /* Responsive adjustments: reduce nudge on tablets, stack on small phones */
        @media (max-width: 1023px) {
          /* iPad / small tablets: keep panels inline but avoid framing */
          .client-row {
            max-width: none;
            gap: clamp(0.6rem, 1.2vw, 1rem); /* ‡∏•‡∏î‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡∏ö‡∏ô tablet */
          }
          .ClientName_Container {
            /* ‡πÉ‡∏´‡πâ‡∏Å‡∏£‡∏≠‡∏ö‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡∏ö‡∏ô tablet */
            flex: 0 0 42%;
            max-width: 42%;
            min-height: 140px;
            aspect-ratio: auto;
            padding: 12px;
          }
          .client-row > .ClientName_Container + .ClientName_Container {
            margin-left: clamp(0.6rem, 1.2vw, 1rem); /* smaller margin on tablet */
          }
        }

        /* iPad Pro (approx): slightly reduce width (~3%) and height (~10%) for the client panels */
        @media (min-width: 1024px) and (max-width: 1366px) {
          .ClientName_Container {
            /* iPad Pro: moderately larger panels */
            flex: 0 0 38%;
            max-width: 38%;
            min-height: 150px;
            aspect-ratio: auto;
            padding: 12px;
          }
          .client-row {
            gap: clamp(0.5rem, 1.0vw, 0.9rem);
          }
        }

        /* iPad portrait: increase client panel height and padding in portrait orientation */
        @media (min-width: 768px) and (max-width: 1023px) and (orientation: portrait) {
          .ClientName_Container {
            min-height: 0;
            aspect-ratio: auto;
            padding: 12px;
            /* keep panels larger in portrait tablets */
            flex: 0 0 44%;
            max-width: 44%;
          }
          .client-row {
            gap: clamp(0.8rem, 1.6vw, 1.2rem);
          }
          /* Shrink running marquee on iPad portrait for better layout */
          .running-text {
            /* make it narrower than desktop */
            flex: 1 1 60% !important;
            min-width: 280px !important;
            max-width: 900px !important;
          }
          /* Keep the top-bar in a single row and align the settings button with the marquee */
          .top-bar {
            flex-direction: row !important;
            align-items: center !important;
            justify-content: center !important;
            gap: clamp(0.75rem, 2vw, 1.5rem) !important;
          }
          .top-bar .neon-btn {
            order: 2;
            flex: 0 0 auto;
            margin-left: 8px;
            align-self: center;
          }
          .top-bar .running-text { order: 1; }
        }

        /* Desktop: make the main Espresso button ~50% larger for larger screens */
        @media (min-width: 1024px) {
          /* Keep the button's font-size unchanged; make visual size via padding and border.
             Ensure the button width fits its label (not full-width). */
          #config-button {
            font-size: inherit !important;
            /* keep generous vertical padding but reasonable horizontal padding so width follows text */
            padding: clamp(18px, 3vw, 27px) clamp(16px, 2vw, 28px) !important;
            border-width: clamp(6px, 0.75vw, 9px) !important;
            min-height: 0 !important;
            line-height: 1 !important;
            box-sizing: border-box;
            transform: translateY(-2.5rem) !important;
            z-index: 30;
            display: inline-flex !important;
            align-items: center !important;
            justify-content: center !important;
            margin-inline: auto !important;
            /* Size to content so the button is proportional to its text */
            width: auto !important;
            max-width: calc(100% - 120px) !important;
            /* increased min width by ~25% earlier; now add ~15% more per request */
            min-width: 201px !important;
          }
        }

        @media (max-width: 767px) {
          /* Mobile: pair panels side-by-side like desktop */
          .client-row {
            flex-direction: row;
            max-width: 100%;
            overflow-x: visible;
            gap: clamp(0.6rem, 4vw, 1rem);
            -webkit-overflow-scrolling: touch;
            padding: 0 clamp(0.5rem, 3vw, 1rem);
            /* ensure symmetric gutters on very small screens */
            padding-inline: clamp(12px, 4vw, 24px) !important;
            justify-content: center;
            /* Force side-by-side pairing */
            flex-wrap: nowrap;
          }
          .client-row .ClientName_Container:first-child,
          .client-row .ClientName_Container:last-child {
            transform: none;
          }
          .ClientName_Container {
            /* On mobile, make each panel ~50% width to pair side-by-side */
            flex: 0 0 50%;
            max-width: 48%;
            width: 50%;
            /* keep vertical spacing but avoid horizontal margins that push layout off-center */
            margin: clamp(0.4rem, 2.5vw, 0.6rem) 0;
            min-height: 0;
            /* remove forced square aspect and arbitrary max-height so content can wrap */
            aspect-ratio: auto;
            max-height: none;
            /* padding 10px */
            padding: 10px;
            box-sizing: border-box;
          }

          /* Ensure the page has equal left/right padding on small screens
             (overrides the inline horizontal padding of .root-bg) */
          .root-bg {
            padding-inline: clamp(12px, 4vw, 24px) !important;
          }

          /* Prevent text from overflowing the panel: allow wrapping and soften font sizes on phones */
          .ClientName_Container .ClientName,
          .ClientName_Container .Date_install,
          .ClientName_Container .ClientNo {
            white-space: normal !important;
            overflow-wrap: anywhere;
            word-break: break-word;
            font-size: clamp(0.72rem, 1.8vw, 0.95rem);
            line-height: 1.15;
          }
        }

        @keyframes marquee { ‡∏†-‡πÜ
          0% { transform: translateX(0); } 
          100% { transform: translateX(-50%); } 
        }

        /* Scroll Reveal */
        .scroll-reveal { 
          opacity: 0; 
          transform: translateY(40px); 
          transition: opacity 0.9s ease, transform 0.9s ease;
          position: relative;
          z-index: 10;
        }

        .scroll-reveal.visible { 
          opacity: 1; 
          transform: translateY(0); 
        }

        /* Video Box */
        .video-box {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          white-space: nowrap;
          padding: 0.9rem 1.5rem;
          background: linear-gradient(180deg, rgba(239,187,91,0.72) 0%, rgba(255,220,140,0.6) 50%, #f5f0e5 100%);
          border: 8px solid #74640a;
          border-radius: 22px;
          box-shadow: 1px 1px 0 #000, -10px 8px #3b3305, 0 0 28px rgba(255,230,160,0.62);
          position: relative;
          overflow: hidden;
          z-index: 10;
        }

        /* Neon effect for video */
        .neon-wrapper {
          display: inline-block;
          padding: 12px;
          border-radius: 22px;
          /* ‡πÉ‡∏ä‡πâ‡πÇ‡∏ó‡∏ô‡∏™‡∏µ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö .video-box (‡∏ó‡∏≠‡∏á/‡∏™‡πâ‡∏°) ‡πÅ‡∏ï‡πà‡∏ö‡∏≤‡∏á‡πÄ‡∏ö‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡πá‡∏ô glow */
          background: linear-gradient(180deg, rgba(239,187,91,0.12) 0%, rgba(255,220,140,0.08) 60%);
          border: 8px solid #74640a;
          /* ‡πÄ‡∏á‡∏≤‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏°: hard offset + deeper glow */
          box-shadow: 1px 1px 0 #000, -10px 8px #3b3305, 0 0 30px rgba(255,230,160,0.7), 0 10px 36px rgba(0,0,0,0.2);
          transition: box-shadow 0.35s ease, transform 0.35s ease;
          -webkit-backdrop-filter: blur(4px);
          backdrop-filter: blur(4px);
        }

        .neon-wrapper:hover {
          transform: translateY(-4px);
          box-shadow: 1px 1px 0 #000, -8px 6px #3b3305, 0 0 36px rgba(255,230,160,0.75), 0 12px 40px rgba(0,0,0,0.25);
        }

        .neon-video {
          display: block;
          /* ‡πÉ‡∏´‡πâ‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏°‡∏µ‡πÄ‡∏á‡∏≤‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏° ‡πÅ‡∏•‡∏∞ glow ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ */
          box-shadow: 1px 1px 0 #000, -6px 5px #3b3305, 0 0 18px rgba(255,230,160,0.45);
          filter: drop-shadow(0 6px 12px rgba(0,0,0,0.25)) drop-shadow(0 0 10px rgba(255,230,160,0.18));
          transition: filter 0.35s ease, box-shadow 0.35s ease;
        }

        @keyframes neonPulse {
          0%, 100% { box-shadow: 0 8px 30px rgba(0,0,0,0.35), 0 0 14px rgba(255,230,160,0.12); }
          50% { box-shadow: 0 10px 40px rgba(0,0,0,0.4), 0 0 30px rgba(255,230,160,0.28); }
        }

        .neon-wrapper .neon-video {
          animation: neonPulse 3.5s ease-in-out infinite;
        }

        /* New: center and make video responsive */
        .video-wrap {
          display: flex;
          justify-content: center;
          align-items: center;
          width: 100%;
          height: 100%; /* Ensure it takes the full height of the container */
          box-sizing: border-box;
        }
        .hero-video {
          max-width: 100%;
          height: auto;
          display: block;
        }

        /* ‡∏ü‡∏≠‡∏á‡∏ü‡∏∏‡πâ‡∏á‡πÄ‡∏ö‡∏≤ ‡πÜ */
        .video-box::before,
        .video-box::after {
          content: '';
          position: absolute;
          border-radius: 50%;
          background: rgba(255, 255, 255, 0.2);
          filter: blur(20px);
          animation: bubbleMove 12s linear infinite;
        }

        .video-box::before {
          width: 60px;
          height: 60px;
          top: 15%;
          left: 10%;
        }
        

        @keyframes bubbleMove {
          0% { transform: translateY(0) translateX(0); }
          50% { transform: translateY(-10px) translateX(8px); }
          100% { transform: translateY(0) translateX(0); }
        }

        .slogan-text { 
          font-family: 'Poppins', sans-serif; 
          font-weight: 700; 
          color: #7d1007; 
          font-size: 2.7rem; 
        }

        /* ‡∏•‡∏î‡∏Ç‡∏ô‡∏≤‡∏î 70% ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
        @media (max-width: 768px) {
          .running-text {
            border-width: 2px;
            padding: 3px 4px;
            font-size: 0.95rem; /* improved readability on mobile */
          }

          .marquee span {
            padding: 0.2rem 0.6rem;
            border-width: 1px;
            border-radius: 3px;
            font-size: 0.9rem; /* avoid tiny unreadable text */
            margin-right: 0.4rem;
          }

          .neon-btn {
            border-width: 3px;
            padding: 10px 18px;
            /* increase font-size instead of scaling element */
            font-size: 0.95rem;
            will-change: transform;
          }
          
          /* ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô text wrap */
          .whitespace-nowrap {
            white-space: nowrap !important;
            overflow: hidden;
            text-overflow: ellipsis;
          }

          /* Mobile: reduce client panel text to match running-text */
          .ClientName_Container .ClientName,
          .ClientName_Container .Date_install,
          .ClientName_Container .ClientNo {
              font-size: 0.7rem; /* Adjusted font size for better readability */
            line-height: 1.1;
          }

          .hero-video {
            transform: translateX(0%); /* Shift the video slightly to the right */
            max-width: 90%; /* ‡∏•‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡∏†‡∏≤‡∏û */
          }
        }

        /* Desktop Layout */
        .desktop-layout {
          max-width: 1400px;
          width: 100%;
          /* reduce top margin so video and menu sit higher on the page */
          margin: 40px auto 0 auto !important;
          padding: 0 clamp(2rem, 4vw, 4rem);
          display: flex !important;
          flex-direction: row !important;
          align-items: center !important;
          justify-content: space-between !important;
          gap: clamp(2rem, 4vw, 4rem) !important;
          box-sizing: border-box;
        }

        .desktop-layout .video-box {
          flex: 0 1 700px;
          max-width: 700px;
        }

        .desktop-layout .video-box video {
          width: 100%;
          max-width: 100%;
        }


        /* Ensure the video element is visible above background and responsive */
        .desktop-layout video {
          display: block;
          margin: 0 auto;
          width: 100%;
          max-width: 900px;
          height: auto;
          z-index: 20;
          position: relative;
        }
        /* Menu Container - ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏à‡∏≤‡∏Å‡∏ö‡∏ô‡∏•‡∏á‡∏•‡πà‡∏≤‡∏á */
        .menu-container {
          display: flex;
          flex-direction: column;
          align-items: stretch;
          gap: clamp(1.2rem, 1.8vw, 1.8rem);
          min-width: 280px;
          max-width: 350px;
          flex-shrink: 0;
          position: relative;
          right: -780px;
        }

        .menu-container .neon-btn {
          width: 100%;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        /* Mobile & Tablet - ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô column */
        @media (max-width: 1023px) {
          .desktop-layout {
            flex-direction: column !important;
            gap: 2rem !important;
          }
          
          .desktop-layout .video-box {
            max-width: 100% !important;
          }
        }

        @media (max-width: 768px) {
          .video-wrap {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            min-height: 300px; /* Ensure enough height for the video */
            padding: 0;
            margin: 0;
            box-sizing: border-box;
          }

          .hero-video {
            max-width: 100%; /* Ensure it doesn't overflow */
            height: auto;
            margin: auto; /* Center the video */
            display: block;
            object-fit: contain; /* Ensure proper scaling */
            transform: translateX(0%); /* Shift the video slightly to the right */
          }
        }
        /* Config button placed in document flow (not fixed) */
        #config-button {
          position: relative; /* not fixed ‚Äî will scroll with page */
          display: inline-flex;
          margin: clamp(24px, 4vh, 48px) auto 0 auto; /* center horizontally, gap above */
          justify-content: center;
          pointer-events: auto;
          box-sizing: border-box;
          max-width: calc(100% - 64px);
        }

        /* Normalize both buttons so computed size matches exactly (reduced footprint) */
        #config-button.neon-btn,
        #contactButton.neon-btn {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          box-sizing: border-box;
          width: auto;
          min-width: 100px; /* reduced further for a smaller footprint */
          /* reduce horizontal padding to shrink left/right size */
          padding: clamp(6px, 1.2vw, 10px) clamp(12px, 3.0vw, 16px);
          min-height: 56px; /* slightly shorter buttons */
          border-width: clamp(4px, 0.45vw, 6px);
          font-size: 1rem; /* desktop font-size kept modest */
          line-height: 1;
          box-shadow: 1px 1px 0 #000, -8px 6px #3b3305, 0 0 18px rgba(255,230,160,0.6);
        }

        @media (max-width: 420px) {
          #config-button.neon-btn { min-width: 110px; padding: 8px 12px; font-size: 0.85rem; }
          #contactButton.neon-btn { min-width: 110px; padding: 8px 12px; font-size: 0.85rem; }
        }

        /* Espresso Button Animation Effects */
        #config-button {
          animation: buttonPulse 2s ease-in-out infinite, buttonGlow 3s ease-in-out infinite;
          cursor: pointer;
        }

        #config-button:hover {
          transform: scale(1.08) translateY(-3px);
          box-shadow: 1px 1px 0 #000, -10px 8px #3b3305, 0 0 40px rgba(255,230,160,0.9), 0 0 60px rgba(255,200,100,0.5);
          animation: none;
        }

        #config-button:active {
          transform: scale(0.98) translateY(2px);
          box-shadow: 1px 1px 0 #000, -4px 3px #3b3305, 0 0 15px rgba(255,230,160,0.6);
        }

        @keyframes buttonPulse {
          0%, 100% { 
            transform: scale(1); 
          }
          50% { 
            transform: scale(1.03); 
          }
        }

        @keyframes buttonGlow {
          0%, 100% { 
            box-shadow: 1px 1px 0 #000, -8px 6px #3b3305, 0 0 20px rgba(255,230,160,0.55);
          }
          50% { 
            box-shadow: 1px 1px 0 #000, -8px 6px #3b3305, 0 0 35px rgba(255,230,160,0.85), 0 0 50px rgba(255,200,100,0.4);
          }
        }

        /* Shine effect on button */
        #config-button::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
          animation: buttonShine 3s ease-in-out infinite;
          border-radius: inherit;
        }

        @keyframes buttonShine {
          0% { left: -100%; }
          50%, 100% { left: 100%; }
        }
        /* Mobile: improve button appearance and hit targets (compact) */
        @media (max-width: 768px) {
          .neon-btn {
            font-size: 0.6rem; /* match client boxes */
            padding: 15px 8px; /* increased vertical padding so height follows text */
            border-radius: 9999px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.18), 0 0 10px rgba(111,74,155,0.04);
            border-width: 4px;
            min-height: 36px;
            line-height: 1;
          }

          /* Make the main config button more compact and full-width on narrow screens */
          #config-button, #config-button.neon-btn {
            width: calc(100% - 220px); /* increase side margin to make button much narrower */
              max-width: 280px; /* Adjusted max-width for better fit */
            margin: 10px auto;
            font-size: 0.6rem !important;
            padding: 15px 8px; /* vertical 15px, horizontal 8px */
            border-width: 4px;
            min-height: 32px;
            box-shadow: 0 6px 10px rgba(0,0,0,0.18), 0 0 10px rgba(255,230,160,0.06);
          }

          /* Make contact button match Espresso button and flow under it on mobile */
          #contactButton {
            position: static !important;
            right: auto !important;
            bottom: auto !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            width: calc(100% - 220px) !important;
            max-width: 260px !important;
            margin: 10px auto !important;
            /* force identical, smaller sizing to the Espresso button */
            padding: 15px 8px !important;
            font-size: 0.6rem !important;
            min-height: 32px !important;
            border: 4px solid #74640a !important;
            background: linear-gradient(180deg, #f8f6f0 0%, #fffef8 45%, #fff8e8 55%, #f5f0e5 100%) !important;
            color: #000 !important;
            border-radius: 9999px !important;
            box-shadow: 1px 1px 0 #000, -8px 6px #3b3305, 0 0 24px rgba(255,230,160,0.7) !important;
            z-index: 9999 !important;
            text-align: center !important;
            white-space: nowrap !important;
          }

          /* Slightly reduce marquee span size on mobile to avoid overflow */
          .marquee span {
            font-size: 0.9rem;
            padding: 6px 10px;
          }
        }
    </style>
</head>
<body>

  <div class="root-bg" style="display: flex; flex-direction: column; position: relative; z-index: 10; padding: clamp(2rem,4vw,3rem) 0;">
    <img src="picture/ESPRESSO_logo.png" alt="Watermark" class="center-watermark" />
    <!--<img src="picture/Huaroa-removebg-preview.png" alt="Watermark Left" class="left-watermark" />-->
    <!-- Logo ‡∏•‡∏≤‡∏¢‡∏ô‡πâ‡∏≥ - ‡∏¢‡πâ‡∏≤‡∏¢‡∏°‡∏≤‡πÑ‡∏ß‡πâ‡∏Ç‡πâ‡∏≤‡∏á‡∏ô‡∏≠‡∏Å -->

    <!-- Running Text -->
    <div class="top-bar" style="display: flex; align-items: center; justify-content: center; gap: clamp(1rem, 2vw, 2rem); padding: 0 clamp(1rem,3vw,1.5rem); margin-top: clamp(2rem,4vw,3rem); margin-bottom: clamp(2rem,4vw,3rem); flex-wrap: wrap;">       
      <div class="running-text overflow-hidden relative text-[clamp(0.875rem,1.5vw,1.25rem)] whitespace-nowrap" style="flex: 1 1 80%; min-width: 420px; max-width: 1600px;">
        <div class="marquee">
          <div class="marquee-content">
            <span>Kwang Unlimit</span>
            <span>Espresso</span>
          </div>
          <div class="marquee-content">
            <span>Kwang Unlimit</span>
            <span>Espresso</span>
          </div>
        </div>
      </div>
        <!-- Button removed, moved to bottom-center (see #config-button) -->
      <!-- Active users / stats -->
      <div id="user-stats" style="font-weight:700; padding-left:12px; display:flex; flex-direction:column; gap:2px;">
        <div id="user-count">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ (connections): 0</div>
        <div id="distinct-count">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á active (distinct clientIds): 0</div>
        <div id="daily-count">‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ (unique): 0</div>
        <div id="ever-count">‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤: 0</div>
      </div>
    </div>

    <!-- Video + Menu -->
    <!-- Client info (neon) -->
   <div class="client-row">
      <div class="ClientName_Container neon scroll-reveal">
        <div class="ClientName" id="disp_clientName">Loading...</div>

        <div class="ClientName">Usernumber : <span id="disp_runNumber">...</span></div>
                
        <div class="ClientNo">Contractnumber : <span id="disp_contract">-</span></div>
        
        <div class="Date_install">Date Installed : <span id="disp_installDate">...</span></div>
        
        <div class="ClientNo">Expiration Date : <span id="disp_expiryDate">...</span></div>
      </div>
      <div class="ClientName_Container neon scroll-reveal">
        <div class="ClientName">Active Users : <span id="active-user-box">0</span></div>
        <div class="ClientName">Total Users : <span id="total-user-box">0</span></div>
      </div>
    </div>

    <div class="desktop-layout">
        <!-- Video removed per request -->
    </div>

    <a id="config-button" href="/catagoly" class="neon-btn bg-[#7d1007] text-white font-sans font-bold uppercase px-[clamp(15px,2vw,20px)] py-[clamp(12px,2vw,18px)] rounded-xl whitespace-nowrap flex items-center justify-center" style="border-width: clamp(4px, 0.5vw, 6px); font-size: inherit; text-decoration: none; overflow: hidden;">Espresso</a>

    </div>

    <div class ="Version">V.11225</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    // If user was previously on another page but hosting served menu on refresh,
    // redirect back to the last visited page to preserve expected behavior.
    try {
      // Check if this is a reload/refresh (not a normal navigation)
      const navEntries = performance.getEntriesByType('navigation');
      const navType = navEntries && navEntries.length > 0 ? navEntries[0].type : 'navigate';
      
      // Only redirect on reload, not on normal navigation
      if (navType === 'reload') {
        const last = localStorage.getItem('lastVisitedPage');
        if (last && typeof last === 'string') {
          // Normalize values we consider "menu" so we don't redirect in a loop
          const menuPaths = ['/', '/menu', '/menu.html', '/index.html'];
          const normalizedLast = last.split('?')[0].split('#')[0];
          if (menuPaths.indexOf(normalizedLast) === -1 && normalizedLast !== window.location.pathname) {
            // Use replace to avoid creating a history entry and loop
            window.location.replace(last);
            return; // stop further menu initialization
          }
        }
      }
    } catch (e) {
      console.warn('lastVisitedPage check failed', e);
    }
  });
</script>

<script>
(function(_0xd9b){console.log('Welcome To New ERA! Kwang Unlimit LTD.');const _0x1a2b=document.querySelectorAll('.scroll-reveal');let _0x3c4d=null;_0x1a2b.forEach(_0x5e=>_0x5e.classList.remove('visible'));_0x3c4d=new IntersectionObserver(_0x6f7a=>{_0x6f7a.forEach(_0x8b9c=>{if(_0x8b9c.isIntersecting){_0x8b9c.target.classList.add('visible');}});},{threshold:0.15});_0x1a2b.forEach(_0xad=>_0x3c4d.observe(_0xad));window.addEventListener('beforeunload',()=>{if(_0x3c4d){_0x3c4d.disconnect();_0x3c4d=null;}});})();
</script>

<!-- Feedback Modal (cloned from catagoly) -->
<div id="feedbackModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 9999; align-items: center; justify-content: center;">
  <div style="background: linear-gradient(180deg, #f8f6f0 0%, #fffef8 45%, #fff8e8 55%, #f5f0e5 100%); padding: 40px; border-radius: 20px; border: 6px solid #74640a; box-shadow: 1px 1px 0 #000, -8px 6px #3b3305, 0 0 30px rgba(255,230,160,0.7); max-width: 500px; width: 90%;">
    <h2 style="color: #333; margin-bottom: 20px; font-size: 28px;">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó</h2>
    <input id="feedbackName" type="text" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì" style="width: 100%; padding: 10px; border: 2px solid #74640a; border-radius: 8px; font-size: 15px; margin-bottom: 12px; font-family: 'Roboto', sans-serif;">
    <input id="feedbackPhone" type="text" placeholder="‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠" style="width: 100%; padding: 10px; border: 2px solid #74640a; border-radius: 8px; font-size: 15px; margin-bottom: 12px; font-family: 'Roboto', sans-serif;">
    <textarea id="feedbackText" placeholder="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì..." style="width: 100%; min-height: 120px; padding: 15px; border: 3px solid #74640a; border-radius: 10px; font-size: 16px; resize: vertical; font-family: 'Roboto', sans-serif; margin-bottom: 20px;"></textarea>
    
    <div style="display: flex; gap: 15px; justify-content: center;">
      <button onclick="submitFeedback()" class="neon-btn" style="font-size: 1rem; padding: 8px 20px; min-height: 36px; max-width: 180px;">
        ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥
      </button>
      <button onclick="closeFeedbackModal()" class="neon-btn" style="font-size: 1rem; padding: 8px 20px; min-height: 36px; max-width: 180px;">
        ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
      </button>
    </div>
  </div>
</div>

<!-- Contact Button: placed in document flow (not fixed) -->
<button id="contactButton" title="‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠" class="neon-btn" style="position: static; margin: 12px auto; display: flex; z-index: 9999;">
‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠
</button>

<script>
// Move the contact button to appear immediately after the Espresso (`#config-button`) on small screens
(function(){
  const MOBILE_QUERY = '(max-width: 768px)';
  const mq = window.matchMedia(MOBILE_QUERY);
  const contact = document.getElementById('contactButton');
  const config = document.getElementById('config-button');

  function moveContact() {
    if(!contact || !config) return;
    if(mq.matches) {
      const parent = config.parentNode;
      parent.insertBefore(contact, config.nextSibling);
      contact.style.position = 'static';
      contact.style.right = 'auto';
      contact.style.bottom = 'auto';
      contact.style.display = 'block';
      contact.style.width = 'calc(100% - 48px)';
      contact.style.maxWidth = '420px';
      contact.style.margin = '12px auto';
      contact.style.zIndex = '9999';
    } else {
      document.body.appendChild(contact);
      contact.style.position = 'fixed';
      // place the contact button just above the Version badge (Version has bottom:10px)
      contact.style.right = '12px';
      contact.style.bottom = '54px';
      // clear inline flow styles
      contact.style.width = '';
      contact.style.maxWidth = '';
      contact.style.margin = '';
      contact.style.minHeight = '';
      contact.style.padding = '';
      contact.style.fontSize = '';
      contact.style.borderRadius = '';
      contact.style.boxShadow = '';
    }
  }

  document.addEventListener('DOMContentLoaded', moveContact);
  try { mq.addListener(moveContact); } catch(e) { /* ignore */ }
})();
</script>

<!-- Socket client (connect + heartbeat) -->
<script src="/socket.io/socket.io.js"></script>
<script src="/socket-client.js"></script>

<script>
// Periodically fetch /status/active-clients to show detailed stats
async function fetchUserStats(){
  try{
    const res = await fetch('/status/active-clients');
    if(!res.ok) return;
    const data = await res.json();
    if(!data || !data.success) return;
    const ac = document.getElementById('user-count');
    const dc = document.getElementById('distinct-count');
    const dd = document.getElementById('daily-count');
    const ev = document.getElementById('ever-count');
    if(ac) ac.textContent = '‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ (connections): ' + (data.activeConnections ?? data.activeClients ?? 0);
    if(dc) dc.textContent = '‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á active (distinct clientIds): ' + (data.distinctActiveClientIds ?? 0);
    if(dd) dd.textContent = '‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ (unique): ' + (data.dailyUniqueToday ?? 0);
    if(ev) ev.textContent = '‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤: ' + (data.totalEverUsers ?? 0);
    // Update right box
    const activeBox = document.getElementById('active-user-box');
    const totalBox = document.getElementById('total-user-box');
    if(activeBox) activeBox.textContent = data.distinctActiveClientIds ?? 0;
    if(totalBox) totalBox.textContent = data.totalEverUsers ?? 0;
  }catch(e){
    // ignore
  }
}

// initial fetch and interval
fetchUserStats();
setInterval(fetchUserStats, 10000);

// also update active connections quickly when socket emits clientCount
if(window.io){
  try{
    const s = io();
    s.on('clientCount', function(count){
      const el = document.getElementById('user-count');
      if(el) el.textContent = '‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ (connections): ' + count;
    });
    // Listen for realtime user stats update
    s.on('userStats:update', function(data){
      const totalBox = document.getElementById('total-user-box');
      if(totalBox && data && typeof data.totalUsers === 'number') {
        totalBox.textContent = data.totalUsers;
      }
    });
  }catch(e){}
}
</script>
<script>
// Contact / Feedback modal functions (cloned from catagoly)
// Contact button click: open feedback modal
document.getElementById('contactButton')?.addEventListener('click', function() {
  openFeedbackModal();
});

// Feedback Modal Functions
function openFeedbackModal() {
  document.getElementById('feedbackModal').style.display = 'flex';
}

function closeFeedbackModal() {
  document.getElementById('feedbackModal').style.display = 'none';
  const nameEl = document.getElementById('feedbackName');
  const phoneEl = document.getElementById('feedbackPhone');
  const textEl = document.getElementById('feedbackText');
  if(nameEl) nameEl.value = '';
  if(phoneEl) phoneEl.value = '';
  if(textEl) textEl.value = '';
}

async function submitFeedback() {
  const feedbackName = document.getElementById('feedbackName').value.trim();
  const feedbackPhone = document.getElementById('feedbackPhone').value.trim();
  const feedbackText = document.getElementById('feedbackText').value.trim();

  if (!feedbackName) {
    alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì');
    return;
  }
  if (!feedbackPhone) {
    alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠');
    return;
  }
  if (!feedbackText) {
    alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á');
    return;
  }

  try {
    const response = await fetch('/api/feedback', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        name: feedbackName,
        phone: feedbackPhone,
        feedback: feedbackText,
        timestamp: new Date().toISOString()
      })
    });

    const result = await response.json();

    if (result.success) {
      alert('‚úÖ ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!\n‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì');
      closeFeedbackModal();
    } else {
      alert('‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ' + result.message);
    }
  } catch (error) {
    console.error('Error:', error);
    alert('‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞‡πÑ‡∏î‡πâ\n‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Server ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà');
  }
}

// Close modal when clicking outside
document.getElementById('feedbackModal')?.addEventListener('click', function(e) {
  if (e.target === this) {
    closeFeedbackModal();
  }
});
</script>
<script>
var __localUsageId_menu = null;
window.addEventListener('load', function(){
  try{
    if (window.usageTracker && typeof window.usageTracker.start === 'function') {
      __localUsageId_menu = window.usageTracker.start(location.pathname || 'menu.html', 'menu-home');
      console.log('usage started (menu)', __localUsageId_menu);
    }
  }catch(e){ console.warn('usageTracker.start failed (menu)', e); }
});
window.addEventListener('beforeunload', function(){
  try{
    if (window.usageTracker && typeof window.usageTracker.end === 'function') {
      window.usageTracker.end(__localUsageId_menu);
    }
  }catch(e){}
});
</script>
<script>
  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏à‡∏≤‡∏Å Server (Env Vars)
  async function fetchClientConfig() {
    try {
      const res = await fetch('/api/client-config');
      if (!res.ok) return;
      const data = await res.json();

      // ‡πÄ‡∏≠‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏≤‡πÅ‡∏õ‡∏∞‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö
      if (data.clientName) document.getElementById('disp_clientName').textContent = data.clientName;
      if (data.runNumber) document.getElementById('disp_runNumber').textContent = data.runNumber;
      if (data.contractNo) document.getElementById('disp_contract').textContent = data.contractNo;
      if (data.installDate) document.getElementById('disp_installDate').textContent = data.installDate;
      if (data.expiryDate) document.getElementById('disp_expiryDate').textContent = data.expiryDate;
      
    } catch (e) {
      console.warn('Could not fetch client config:', e);
    }
  }

  // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö
  document.addEventListener('DOMContentLoaded', fetchClientConfig);
</script>

</body>
</html>